<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>boutique</title>
  </head>
  <body>
    <header>
      <img src="assets/logo.jpg" alt="" id="logoBoutique" />
    </header>
    <main>
      <h1>Anna's vintage clothing Store !</h1>
      <section id="sec_articles"></section>
      <hr />
      <section id="panier">
        <h2>Panier</h2>
        <section>
          <div id="commande">
            <h2>Commande</h2>
            <ul id="listPanier"></ul>
          </div>
          <div id="total">
            <h2>Total de la commande</h2>
            <p id="totalPrice">Total: <span></span> €</p>
            <p id="ttc">Prix TTC = <span></span> €</p>
          </div>
          <div id="payement">
            <h2>Mode de payement</h2>
            <div id="type_carte">
              <input type="radio" name="typeCard" id="visacard" />
              <label for="">Visa Card</label
              ><input type="radio" name="typeCard" id="mastercard" />
              <label for="">Master card</label
              ><input type="radio" name="typeCard" id="paypal" />
              <label for="">Paypal</label>
            </div>
          </div>
        </section>
        <hr />
        <button type="button">Valider votre commande</button>
      </section>
    </main>
    <footer>
      <p>© tous droit reserver a celui qui le reclame!</p>
    </footer>
    <script src="main.js"></script>
    <script>
      const dress = new Article(
        1,
        "Robe de soirée",
        "dress.jpg",
        35,
        "une super robe de soirée pour aller danser",
        0
      );
      const shoes = new Article(
        2,
        "Chaussure pop art",
        "shoes.jpg",
        20,
        "une super paire de chaussure custom",
        0
      );
      const tshirt = new Article(
        3,
        "Tshirt tendance",
        "tshirt.jpg",
        15,
        "un tshirt cool",
        0
      );

      const articles = [dress, shoes, tshirt];

      // Sélectionner le conteneur où les articles seront ajoutés
      const productContainer = document.getElementById("sec_articles");

      // Créer et afficher les cartes pour chaque article
      articles.forEach((article) => {
        article.createCard(productContainer);
      });

      const totalSsTva = document.getElementById("totalPrice").innerText;
      const tva = 0.2;
      const Ttc = document.getElementById("ttc").innerText;

      function updateTotaux(showTt, showTTC, tva, listeArticles) {
        listeArticles.forEach((article) => {
          let totalPrice = article.qts * article.prix;
          let ttc = totalPrice * (1 + tva / 100);
          showTt.textContent =
            parseFloat(showTt.textContent) + totalPrice.toFixed(2);
          showTTC.textContent =
            parseFloat(showTTC.textContent) + ttc.toFixed(2);
        });
      }
    </script>
  </body>
</html>
